<div [className]="getFondo() ? 'foto-fondo' : 'foto-fondo-blanco'">
  <div class="container">
    <div class="titulo">
      <h1>¿Sobre qué destino deseas informarte?</h1>
    </div>
    <div class="row espacio-barra">
      <div class="col-md-4 offset-md-4 tablas">
        <form class="example-form">
          <mat-form-field class="barra">
            <input type="text" placeholder="Introduce un municipio" aria-label="Number" matInput [formControl]="myControl" [matAutocomplete]="auto" [(ngModel)]="texto" (keydown.enter)="getInfoPueblo()" />
            <mat-autocomplete #auto="matAutocomplete">
              <mat-option *ngFor="let option of filteredOptions | async | slice:0:10" [value]="option"> {{option}} </mat-option>
            </mat-autocomplete>
          </mat-form-field>
        </form>
      </div>
    </div>
    <div *ngIf="this.municipio.name == null" class="fantasma"></div>
    <!-- Loading spinner -->

    <div *ngIf="loading" class="loading-container flex-content-center">
      <div class="row">
        <div class="col-md-4 offset-md-4 gifloading">
          <mat-progress-spinner class="gifloading" color="accent" mode="indeterminate"> </mat-progress-spinner>
        </div>
      </div>
    </div>
    <!-- the application -->
    <!-- <div *ngIf="this.municipio.name == null">
    <div class="row bloque2">
      <h3>Municipios más búscados</h3>
      <hr />
      <div class="col-md-3" *ngFor="let item of this.topBusquedas">
        <div class="card card-principio">
          <h5 class="card-header">{{item['name']}}</h5>
          <img class="escudo" [src]="this.item['shield']" />
          <div class="card-body">
            <h5 class="card-title">Provincia: {{item['province']}}</h5>
            <p class="card-text">CCAA: {{item['ccaa']}}</p>
          </div>
        </div>
      </div>
    </div>
  </div> -->

    <!-- <div class = "fondo1"> -->

    <div class = "row" *ngIf="this.municipio.name != null">
      <div class="row">
          <h1 class = "nombre-municipio"> Descubre {{this.municipio.name}}</h1>
      </div>
      <div class="row ">
        <div class="col-md-2">
          <p *ngIf="this.nEstaciones != 0">Número de estaciones: {{this.nEstaciones}}</p>
        </div>
        <div class="col-md-2">
          <p *ngIf="this.municipio.unpopulated != null">{{this.municipio.unpopulated}}</p>
        </div>
        <div class="col-md-2">
          <p *ngIf="this.nUrgencias != 0">Número de urgencias: {{this.nUrgencias}}</p>
        </div>
        <div class="col-md-2">
          <p *ngIf="this.nConsultorios != 0">Número de consultorios: {{this.nConsultorios}}</p>
        </div>
        <div class="col-md-2">
          
        </div>
        <div class="col-md-2">
          
        </div>
      </div>
      <div class="row ">
      <div class="col-md-4">
        <img class="escudoMain" [src]="municipio.shield" />
      </div>
      <div class="col-md-4">
        <div class="row">
          <div class="despoblacion">
            <p *ngIf="this.municipio.unpopulated != null">{{this.municipio.unpopulated}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="row tituloInfo">
          <h3 class= "tituloInfoTexto">Información básica</h3>
        </div>
        <div class="row infoBasica">
          <lu>
            <li *ngIf="this.municipio.region != null">
              <p>Comarca: {{this.municipio.region}}</p>
            </li>
            <li>
              <p>Provincia: {{this.municipio.province}}</p>
            </li>
            <li>
              <p>Comunidad Autónoma: {{this.municipio.ccaa}}</p>
            </li>
            <li  *ngIf="this.municipio.population != null">
              <p>Población: {{this.municipio.population}}</p>
            </li>
            <li *ngIf="this.municipio.surface != null">
              <p>Superficie: {{this.municipio.surface}}</p>
            </li>
            <li *ngIf="this.municipio.altitude != null">
              <p>Altitud: {{this.municipio.altitude}}</p>
            </li>
            <li *ngIf="this.municipio.density != null">
              <p>Densidad: {{this.municipio.density}}</p>
            </li>
          </lu>
        </div>
          <!-- <div class="row">
            <p *ngIf="this.municipio.region != null">Comarca: {{this.municipio.region}}</p>
          </div>
          <div class="row">
            <p>Provincia: {{this.municipio.province}}</p>
          </div>
          <div class="row">
            <p>Comunidad Autónoma: {{this.municipio.ccaa}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.population != null">Población: {{this.municipio.population}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.surface != null">Superficie: {{this.municipio.surface}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.altitude != null">Altitud: {{this.municipio.altitude}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.density != null">Densidad: {{this.municipio.density}}</p>
          </div> -->
        </div>
      </div>

      <p *ngIf="this.nEstaciones != 0">Número de estaciones: {{this.nEstaciones}}</p>
      <p *ngIf="this.nHospitales != 0">Número de hospitales: {{this.nHospitales}}</p>
      <p *ngIf="this.nUrgencias != 0">Número de urgencias: {{this.nUrgencias}}</p>
      <p *ngIf="this.nConsultorios != 0">Número de consultorios: {{this.nConsultorios}}</p>
      </div>
      <!-- <h3>Información básica</h3>
      <div class="row">
        <div class="col-md-4">
          <img class="escudoMain" [src]="municipio.shield" />
        </div>
        <div class="col-md-4">
          <br />
          <div class="row">
            <p>{{this.municipio.name}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.region != null">{{this.municipio.region}}</p>
          </div>
          <div class="row">
            <p>{{this.municipio.province}}</p>
          </div>
          <div class="row">
            <p>{{this.municipio.ccaa}}</p>
          </div>
          <br />
          <div class="row">
            <p *ngIf="this.municipio.nRestaurants != null">Número de restaurantes: {{this.municipio.nRestaurants}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.media != null">Media de restaurantes: {{this.municipio.media}}</p>
          </div>
        </div>
        <div class="col-md-4">
          <br />
          <div class="row">
            <p *ngIf="this.municipio.population != null">Población: {{this.municipio.population}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.surface != null">Superficie: {{this.municipio.surface}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.altitude != null">Altitud: {{this.municipio.altitude}}</p>
          </div>
          <div class="row">
            <p *ngIf="this.municipio.density != null">Densidad: {{this.municipio.density}}</p>
          </div>
          <br />
          <div class="row">
            <p *ngIf="this.municipio.unpopulated != null">{{this.municipio.unpopulated}}</p>
          </div>
        </div>
      </div>
    </div> -->

    <div *ngIf="this.municipio.stations != null && this.municipio.stations.length != 0" class="row centros">
      <h3>Estaciones</h3>

      <swiper [slidesPerView]="3" [spaceBetween]="30" [slidesPerGroup]="3" [loop]="false" [loopFillGroupWithBlank]="false" [pagination]="{ clickable: true }" [navigation]="true" class="stationSwiper">
        <ng-template *ngFor="let item of this.municipio.stations" swiperSlide>
          <div class="caja">
            <div class="tituloCaja stations">
              <img class="emoji" *ngIf="item['cercanias'] == 1" src="../../../assets/images/1024px-Cercanias_Logo.svg.png" alt="" />
              <img class="emoji" *ngIf="item['cercanias'] == 0" src="../../../assets/images/train_100px.png" alt="" />
              <!-- <img class="emoji" *ngIf="item['feve'] = 1" src="../../../assets/images/FEVE.svg.png" alt=""> -->
              <!-- <img class="emoji" *ngIf="item['feve'] = 0 && item['cercanias'] = 0" src="../../../assets/images/train_100px.png" alt=""> -->
              <h5>{{item['name']}}</h5>
            </div>
            <div class="tituloCaja marginStation">
              <img class="emojiDir" src="../../../assets/images/marker_100px.png" alt="" />
              <p class="dirText">{{item['address']}}</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>

    <div *ngIf="this.municipio.medicalcenters != null && this.municipio.medicalcenters.length != 0" class="row centros">
      <h3>Centros médicos</h3>

      <swiper [slidesPerView]="3" [spaceBetween]="30" [slidesPerGroup]="3" [loop]="false" [loopFillGroupWithBlank]="false" [pagination]="{ clickable: true }" [navigation]="true" class="sanidadSwiper">
        <ng-template *ngFor="let item of this.municipio.medicalcenters" swiperSlide>
          <div class="caja">
            <div class="tituloCaja cmedicos">
              <img class="emoji" *ngIf="item['type'] == 'CENTRO SALUD' || item['type'] == 'CONSULTORIO LOCAL' || item['type'] == 'Otros Centros con Internamiento'" src="../../../assets/images/hospital_100px.png" alt="" />
              <img class="emoji" *ngIf="item['type'] == 'Dispositivos de Urgencia Extrahospitalaria'" src="../../../assets/images/ambulance_100px.png" alt="" />
              <img class="emoji" *ngIf="item['type'] == 'Hospitales de media y larga estancia' || item['type'] == 'Hospitales de salud mental y tratamiento de toxicomanías' || item['type'] == 'Hospitales especializados' || item['type'] == 'Hospitales Generales'" src="../../../assets/images/hospital_sign_100px.png" alt="" />
              <h5>{{item['name']}}</h5>
            </div>
            <div class="bodyCaja">
              <p class="disText">{{item['type']}}</p>
            </div>
            <div class="bodyCaja marginCaja">
              <img class="emojiDir" src="../../../assets/images/marker_100px.png" alt="" />
              <p class="dirText">{{item['address']}}</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>

    <div *ngIf="this.municipio.supermarkets!= null && this.municipio.supermarkets.length != 0" class="row centros">
      <h3>Supermercados</h3>

      <swiper [slidesPerView]="3" [spaceBetween]="30" [slidesPerGroup]="3" [loop]="false" [loopFillGroupWithBlank]="false" [pagination]="{ clickable: true }" [navigation]="true" class="supermarketsSwiper">
        <ng-template *ngFor="let item of this.municipio.supermarkets" swiperSlide>
          <div class="caja">
            <div class="tituloCaja supermarkets">
              <img class="emoji" src="../../../assets/images/fast_moving_consumer_goods_100px.png" alt="" />
              <h5>{{item['name']}}</h5>
            </div>
            <div class="bodyCaja">
              <img class="emojiDir" src="../../../assets/images/ruler_100px.png" alt="" />
              <p class="disText">{{item['distance']}} Km</p>
            </div>
            <div class="bodyCaja marginCaja">
              <img class="emojiDir" src="../../../assets/images/marker_100px.png" alt="" />
              <p class="dirText">{{item['address']}}</p>
            </div>
          </div>
        </ng-template>
      </swiper>
    </div>
  </div>
</div>
